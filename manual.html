<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>คู่มือการใช้งาน | ระบบดิจิทัล ส.ท.</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Prompt:wght@300;400;500;600&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Prompt', sans-serif; }
        .gradient-bg { background: linear-gradient(135deg, #2563EB 0%, #3B82F6 100%); }
    </style>
</head>
<body class="bg-blue-50 min-h-screen pb-10">
    <header class="gradient-bg text-white py-6 px-4 shadow-lg mb-6">
        <div class="max-w-4xl mx-auto flex items-center justify-between">
            <div class="flex items-center gap-3">
                <a href="index.html" class="bg-white/20 hover:bg-white/30 p-2 rounded-full transition">
                    <i class="fa-solid fa-arrow-left"></i>
                </a>
                <h1 class="text-xl font-bold">คู่มือการใช้งานระบบ</h1>
            </div>
        </div>
    </header>

    <main class="max-w-4xl mx-auto px-4 space-y-8">
        <!-- Section: General User Manual -->
        <section id="user-manual" class="bg-white rounded-2xl shadow-sm border border-blue-100 overflow-hidden">
            <div class="bg-blue-600 text-white px-6 py-4">
                <h2 class="text-lg font-bold flex items-center">
                    <i class="fa-solid fa-book-open mr-2"></i> คู่มือการใช้งานทั่วไป (สำหรับนักเรียน)
                </h2>
            </div>
            <div class="p-6 space-y-6">
                <div class="space-y-3">
                    <h3 class="font-bold text-blue-600 border-b pb-1">1. การเข้าสู่ระบบและลงทะเบียน</h3>
                    <ul class="list-disc list-inside text-slate-600 text-sm space-y-2 ml-2">
                        <li>ลงทะเบียนด้วยชื่อ-นามสกุล และรหัสนักเรียน</li>
                        <li>กำหนดรหัสผ่านอย่างน้อย 6 ตัวอักษร</li>
                        <li>หากมีบัญชีแล้วสามารถเข้าสู่ระบบด้วยรหัสนักเรียนและรหัสผ่านที่ตั้งไว้</li>
                    </ul>
                </div>

                <div class="space-y-3">
                    <h3 class="font-bold text-blue-600 border-b pb-1">2. การส่งผลงานความดี</h3>
                    <ul class="list-disc list-inside text-slate-600 text-sm space-y-2 ml-2">
                        <li>ไปที่เมนู "กิจกรรม" และเลือกแถบ "ความดี"</li>
                        <li>อัปโหลดรูปภาพผ่านระบบ ImgBB หรือวางลิงก์รูปภาพ</li>
                        <li>ระบุรายละเอียดความดีที่ทำแล้วกดส่งข้อมูล</li>
                        <li>สถานะจะแสดงเป็น "รอตรวจสอบ" จนกว่า Admin จะอนุมัติ</li>
                    </ul>
                </div>

                <div class="space-y-3">
                    <h3 class="font-bold text-blue-600 border-b pb-1">3. ระบบธนาคารขยะ</h3>
                    <ul class="list-disc list-inside text-slate-600 text-sm space-y-2 ml-2">
                        <li>สะสมแสตมป์จากการนำขยะมาคัดแยกหรือเข้าร่วมกิจกรรม</li>
                        <li>ดูจำนวนแสตมป์และบัตรสะสมแต้มได้ในแถบ "ธนาคารขยะ"</li>
                        <li>เมื่อมีแต้มครบตามเงื่อนไข สามารถกดแลกของรางวัลในระบบได้</li>
                    </ul>
                </div>

                <div class="space-y-3">
                    <h3 class="font-bold text-blue-600 border-b pb-1">4. การแจ้งปัญหา</h3>
                    <ul class="list-disc list-inside text-slate-600 text-sm space-y-2 ml-2">
                        <li>หากพบอุปกรณ์ชำรุด หรือปัญหาความสะอาด สามารถแจ้งผ่านเมนู "แจ้งปัญหา"</li>
                        <li>เลือกหัวข้อ ระบุรายละเอียด และอัปโหลดรูปภาพประกอบ</li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- Section: Admin Manual (Hidden by default, shown via parameter) -->
        <section id="admin-manual" class="bg-white rounded-2xl shadow-sm border border-red-100 overflow-hidden hidden">
            <div class="bg-red-600 text-white px-6 py-4">
                <h2 class="text-lg font-bold flex items-center">
                    <i class="fa-solid fa-user-shield mr-2"></i> คู่มือสำหรับผู้ดูแลระบบ (Admin)
                </h2>
            </div>
            <div class="p-6 space-y-6">
                <div class="space-y-3">
                    <h3 class="font-bold text-red-600 border-b pb-1">1. การจัดการประกาศ</h3>
                    <ul class="list-disc list-inside text-slate-600 text-sm space-y-2 ml-2">
                        <li>Admin สามารถสร้างประกาศใหม่ได้ที่หน้าแรก</li>
                        <li>เลือก "ตั้งเป็นประกาศสำคัญ" เพื่อให้แสดงเป็น Pop-up เมื่อผู้ใช้เข้าสู่ระบบ</li>
                        <li>สามารถลบประกาศที่ไม่ต้องการได้โดยกดปุ่มถังขยะที่มุมขวาของประกาศ</li>
                    </ul>
                </div>

                <div class="space-y-3">
                    <h3 class="font-bold text-red-600 border-b pb-1">2. การอนุมัติความดี</h3>
                    <ul class="list-disc list-inside text-slate-600 text-sm space-y-2 ml-2">
                        <li>ตรวจสอบรายการความดีที่รออนุมัติในหน้า "โปรไฟล์" ส่วนของ Admin</li>
                        <li>ตรวจสอบรูปภาพและรายละเอียด</li>
                        <li>ระบุคะแนนที่ต้องการมอบให้แล้วกด "อนุมัติ" หรือ "ปฏิเสธ" ในกรณีที่ไม่เหมาะสม</li>
                    </ul>
                </div>

                <div class="space-y-3">
                    <h3 class="font-bold text-red-600 border-b pb-1">3. การจัดการธนาคารขยะและของรางวัล</h3>
                    <ul class="list-disc list-inside text-slate-600 text-sm space-y-2 ml-2">
                        <li>เพิ่มแต้มขยะให้นักเรียนโดยการค้นหารหัส/ชื่อ หรือสแกน QR Code</li>
                        <li>เพิ่ม/ลบ ของรางวัลในระบบ ระบุจำนวนสต็อกและคะแนนที่ใช้แลก</li>
                        <li>เมื่อมีการแลกรางวัล ระบบจะแจ้งเตือนผ่าน Discord (ถ้าเชื่อมต่อไว้)</li>
                    </ul>
                </div>

                <div class="space-y-3">
                    <h3 class="font-bold text-red-600 border-b pb-1">4. ระบบเช็คชื่อเช้า</h3>
                    <ul class="list-disc list-inside text-slate-600 text-sm space-y-2 ml-2">
                        <li>เปิด QR Code สำหรับให้นักเรียนสแกนเช็คชื่อ (ช่วงเวลา 06:00 - 08:00 น.)</li>
                        <li>นักเรียนที่สแกนจะได้รับแต้มความดีอัตโนมัติ</li>
                    </ul>
                </div>
            </div>
        </section>
    </main>

    <script>
        // Check if user is admin via URL parameter or show based on logic
        const urlParams = new URLSearchParams(window.location.search);
        const isAdmin = urlParams.get('mode') === 'admin';
        
        if (isAdmin) {
            document.getElementById('admin-manual').classList.remove('hidden');
        }
    </script>
</body>
</html>